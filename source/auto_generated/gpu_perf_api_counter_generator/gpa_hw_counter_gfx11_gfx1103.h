//==============================================================================
// Copyright (c) 2010-2025 Advanced Micro Devices, Inc. All rights reserved.
/// @author AMD Developer Tools Team
/// @file
/// @brief Hardware counter info for GFX11_GFX1103.
//==============================================================================

// This file is autogenerated by the ConvertHWEnums project.

#ifndef GPA_AUTO_GENERATED_GPU_PERF_API_COUNTER_GENERATOR_GPA_HW_COUNTER_GFX11_GFX1103_H_
#define GPA_AUTO_GENERATED_GPU_PERF_API_COUNTER_GENERATOR_GPA_HW_COUNTER_GFX11_GFX1103_H_

// clang-format off

#include "gpu_perf_api_common/gpa_array_view.hpp"
#include <array>
#include <cassert>

#include "DeviceInfo.h"

struct GpaHardwareCounterDesc;

#include "auto_generated/gpu_perf_api_counter_generator/gpa_hw_counter_gfx11.h"

namespace counter_gfx11_gfx1103
{
/// @brief Uses the input ASIC type to determine if this data provides an ASIC specific version.
///
/// @param [in] asic_type The ASIC type that is currently in use.
///
/// @return True if the ASIC is matched by this file.
inline bool MatchAsic(GDT_HW_ASIC_TYPE asic_type)
{
    static constexpr std::array asics_supported = { GDT_GFX11_0_3, GDT_GFX11_0_3A, GDT_GFX11_0_3B };

    return std::find(asics_supported.begin(), asics_supported.end(), asic_type) != asics_supported.end();
}

/// @brief This function is called on variant hardware which has a different register spec and therefore we need to substitute the base set of counters with the variant's set.
///
/// @param [in] dest_counter Destination to update.
/// @param [in] src_counter Source to update from.
inline void ReplaceBlockInstanceCounters(gpa_array_view<GpaHardwareCounterDesc> &dest_counter, const gpa_array_view<GpaHardwareCounterDesc> &src_counter)
{
    assert(src_counter.size() == dest_counter.size());
    dest_counter = src_counter;
}

/// @brief If the requested ASIC type is supported, then the global GPU generation block instance counters are updated.
///
/// @param [in] asic_type The ASIC type that is currently in use.
///
/// @return True if the ASIC is matched by this file and block instances are updated, otherwise false.
inline bool OverrideBlockInstanceCounters(GDT_HW_ASIC_TYPE asic_type)
{
    if (!MatchAsic(asic_type))
    {
        return false;
    }

    return true;
}

bool OverrideMaxBlockEvents(GDT_HW_ASIC_TYPE asic_type);
} // counter_gfx11_gfx1103

// clang-format on

#endif
